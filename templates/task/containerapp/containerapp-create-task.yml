parameters:
- name: azureSubscription
  type: string
- name: appName
  type: string
- name: appSettings
  type: string
- name: envAppSettings
  type: string

steps:
- task: AzureCLI@2
  displayName: 'Create ContainerApp'
  inputs:
    azureSubscription: ${{ parameters.azureSubscription }}
    scriptType: pscore
    scriptLocation: inlineScript
    inlineScript: |
      az deployment sub create `
        --location westeurope `
        --template-file ./CleanSample.Shared/templates/task/containerapp/containerapp-create.bicep `
        --parameters appName=${{ parameters.appName }} `
        --parameters ${{ parameters.appSettings }} `
        --parameters ${{ parameters.envAppSettings }}
